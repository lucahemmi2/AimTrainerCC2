<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <title>VR Aim Trainer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-environment-component@1.3.1/dist/aframe-environment-component.min.js"></script>
    <link rel="stylesheet" href="style.css" />
    <style> html, body { margin:0; padding:0; overflow:hidden; background:#000; } </style>
  </head>

  <body>
    <div id="ui">
      <div id="menu">
        <p>Wähle Schwierigkeitsgrad:</p>
        <button onclick="startGame('easy')">Einfach</button>
        <button onclick="startGame('medium')">Mittel</button>
        <button onclick="startGame('hard')">Schwer</button>
      </div>
      <div id="scoreboard" style="display:none;">
        <p>Zeit: <span id="time">25</span> s</p>
        <p>Treffer: <span id="score">0</span></p>
      </div>
    </div>

    <a-scene>
      <a-assets>
        <audio id="pop-sound" src="./sounds/sharp-pop-328170.mp3"></audio>
      </a-assets>

      <a-entity environment="preset: forest; groundColor: #444; dressingAmount: 20; lighting: none;"></a-entity>
      <a-entity light="type: ambient; intensity: 1; color: #ffffff;"></a-entity>
      <a-entity light="type: directional; intensity: 0.6; color: #ffffff;" position="2 5 -3"></a-entity>

      <!-- Kamera mit Gaze Cursor -->
      <a-entity position="0 3 15">
        <a-camera>
          <a-cursor
            fuse="true"
            fuse-timeout="100"
            color="#FF0000"
            raycaster="objects: .clickable"
            animation__click="property: scale; startEvents: click; from: 1 1 1; to: 0.5 0.5 0.5; dur: 150; dir: alternate"
          ></a-cursor>
        </a-camera>
      </a-entity>

      <!-- ✅ FIX: Container für Ziele -->
      <a-entity id="targetContainer"></a-entity>

    </a-scene>

    <script src="script.js"></script>
  </body>
</html>
